<template>
  <div>
    <!-- 面包屑导航 -->
    <el-breadcrumb separator-class="el-icon-arrow-right">
      <el-breadcrumb-item :to="{ path: '/home' }">首页</el-breadcrumb-item>
      <el-breadcrumb-item>课程管理</el-breadcrumb-item>
      <el-breadcrumb-item>课程推荐查询</el-breadcrumb-item>
    </el-breadcrumb>

    <h>您是否为新用户？</h>
    <el-button type="primary" @click="isshowA = 1; searchdialogVisible = false">否</el-button>
    <el-button type='primary' @click="isshowA = 2; searchdialogVisible = false">是</el-button>

    <!-- 老用户界面 -->
    <el-row v-show="isshowA==1">
      <el-col :span="4">
        <el-input placeholder="请输入学生id" v-model="input">
        </el-input>
      </el-col>
      <el-button type="primary" @click="btn">获取推荐课程</el-button>
      <el-button type="primary" @click="btn2" class="bb">查看已选课程</el-button>
    </el-row>

    <!-- 新用户界面 -->
    <el-row v-show="isshowA==2">
      <el-col :span="4">
        <el-input placeholder="请输入新入学学生id" v-model="input2"></el-input>
      </el-col>
      <el-col :span="8">
        <el-input placeholder="请输入新入学学生所选课程编码" v-model="input3"></el-input>
      </el-col>
      <el-button type="primary" @click="callPython">获取推荐课程</el-button>
    </el-row>

    <!-- 展示已选或者推荐的课程信息 -->
    <el-card v-show="searchdialogVisible">
      <el-table v-loading="loading" element-loading-text="拼命加载中" element-loading-spinner="el-icon-loading"
        element-loading-background="rgba(0, 0, 0, 0.8)" :data="course_message" style="width: 100%" border stripe>
        <el-table-column type="index"></el-table-column>
        <el-table-column prop="coures_id" label="课程编号" width="180"></el-table-column>
        <el-table-column prop="name" label="课程名称"></el-table-column>
        <el-table-column prop="course_time" label="课程时间"></el-table-column>
        <el-table-column label="操作" width="220px">
          <template slot-scope="scope">
            <el-button type="primary" size="small" @click="introduce(scope.row)">课程简介</el-button>

            <el-dialog title="课程简介" :visible.sync="dialogVisible" width="30%" :before-close="handleClose">
              <div>{{ introduction }}</div>
              <a :href="course_herf" target="_blank">课程视频</a>
              <span slot="footer" class="dialog-footer">
                <el-button @click="dialogVisible = false">取 消</el-button>
                <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
              </span>
            </el-dialog>

            <el-button type="primary" size="small" v-show="deleteVisible" @click="delCourse(scope.row)">删除课程</el-button>
            <el-button type="primary" size="small" v-show="addVisible" @click='addCoures(scope.row)'>加入课程</el-button>
          </template>
        </el-table-column>
      </el-table>
    </el-card>
  </div>
</template>
<script>
  import * as pythonApi from '@/api/python.js'
  export default {
    data() {
      return {
        //input是第一个输入表单
        input: '',
        //新用户的id
        input2: '',
        //新用户选择的课程
        input3: '',

        deleteVisible: false,//展示删除课程
        addVisible: false,//展示加入课程按钮
        searchdialogVisible: false,//展示已选或者推荐的课程信息
        loading: false,
        dialogVisible: false,

        data_table: [{ '0': '82553' }, { '1': '82552,82545,82553' }, { '2': '82545,82588,82549' }, { '3': '82552,82545,82553' }, { '4': '82552,82545,82553' }, { '5': '82552,82545,82553' }, { '6': '82553,82588,82549' }, { '7': '82552,82545,82553' }, { '8': '82552,82545,82553' }, { '9': '82552,82545,82553' }, { '10': '82545,82553,82588' }, { '11': '82552,82545,82553' }, { '12': '82552,82545,82553' }, { '13': '82552,82545,82553' }, { '14': '82552,82549,82538' }, { '15': '82552,82545,82553' }, { '16': '82552,82545,82553' }, { '17': '82552,82553,82588' }, { '18': '82545,82588,82538' }, { '19': '82552,82545,82553' }, { '20': '82545,82553,82588' }, { '21': '82552,82545,82553' }, { '22': '82552,82545,82553' }, { '23': '82552,82545,82553' }, { '24': '82552,82545,82553' }, { '25': '82552,82545,82553' }, { '26': '82552,82545,82553' }, { '27': '82552,82553,82588' }, { '28': '82552,82545,82588' }, { '29': '82552,82545,82553' }, { '30': '82552,82545,82553' }, { '31': '82552,82545,82553' }, { '32': '82552,82545,82553' }, { '33': '82545,82553,82538' }, { '34': '82545,82553,82588' }, { '35': '82552,82553,82549' }, { '36': '82552,82545,82553' }, { '37': '82545,82553,82588' }, { '38': '82553,82549,82538' }, { '39': '82552,82545,82553' }, { '40': '82552,82545,82553' }, { '41': '82545,82553,82588' }, { '42': '82552,82545,82553' }, { '43': '82552,82545,82588' }, { '44': '82552,82545,82553' }, { '45': '82552,82545,82553' }, { '46': '82552,82553,82588' }, { '47': '82545,82553,82588' }, { '48': '82552,82545,82553' }, { '49': '82545,82553,82588' }, { '50': '82552,82553,82549' }, { '51': '82552,82545,82553' }, { '52': '82552,82545,82553' }, { '53': '82552,82545,82553' }, { '54': '82552,82545,82553' }, { '55': '82552,82553,82588' }, { '56': '82552,82553,82549' }, { '57': '82552,82545,82553' }, { '58': '82552,82553,82588' }, { '59': '82552,82553,82549' }, { '60': '82552,82545,82553' }, { '61': '82552,82545,82553' }, { '62': '82552,82545,82553' }, { '63': '82552,82545,82553' }, { '64': '82552,82545,82553' }, { '65': '82552,82545,82553' }, { '66': '82545,82553,82588' }, { '67': '82552,82545,82553' }, { '68': '82552,82545,82588' }, { '69': '82552,82545,82588' }, { '70': '82552,82545,82553' }, { '71': '82552,82545,82553' }, { '72': '82552,82545,82553' }, { '73': '82552,82545,82553' },
        { '74': '82552,82545,82553' }, { '75': '82552,82545,82553' }, { '76': '82552,82545,82553' }, { '77': '82552,82553,82588' }, { '78': '82545,82553,82588' }, { '79': '82552,82545,82553' }, { '80': '82545,82553,82588' }, { '81': '82552,82545,82553' }, { '82': '82552,82545,82553' }, { '83': '82552,82553,82549' }, { '84': '82552,82545,82553' }, { '85': '82552,82545,82553' }, { '86': '82552,82545,82553' }, { '87': '82552,82545,82588' }, { '88': '82588,82538,82672' }, { '89': '82588,82538,82672' }, { '90': '82552,82553,82588' }, { '91': '82545,82553,82588' }, { '92': '82552,82545,82553' }, { '93': '82552,82545,82553' }, { '94': '82552,82545,82553' }, { '95': '82552,82545,82553' }, { '96': '82545,82553,82588' }, { '97': '82552,82545,82553' }, { '98': '82552,82553,82588' }, { '99': '82552,82545,82553' }, { '100': '82552,82545,82553' }, { '101': '82552,82545,82553' }, { '102': '82552,82545,82588' }, { '103': '82552,82553,82588' }, { '104': '82552,82545,82553' }, { '105': '82552,82545,82553' }, { '106': '82552,82545,82553' }, { '107': '82552,82545,82553' }, { '108': '82552,82545,82588' }, { '109': '82552,82545,82553' }, { '110': '82545,82553,82588' }, { '111': '82545,82553,82549' }, { '112': '82553,82588,82549' }, { '113': '82545,82553,82588' }, { '114': '82552,82545,82553' }, { '115': '82552,82545,82553' }, { '116': '82552,82553,82588' }, { '117': '82552,82545,82553' }, { '118': '82552,82545,82553' }, { '119': '82552,82545,82553' }, { '120': '82552,82545,82553' }, { '121': '82552,82545,82553' }, { '122': '82552,82545,82553' }, { '123': '82552,82545,82553' }, { '124': '82552,82545,82553' }, { '125': '82552,82545,82553' }, { '126': '82552,82553,82588' }, { '127': '82552,82545,82553' }, { '128': '82552,82545,82553' }, { '129': '82545,82553,82549' }, { '130': '82552,82553,82588' }, { '131': '82552,82545,82553' }, { '132': '82553,82588,82549' }, { '133': '82552,82545,82588' }, { '134': '82552,82545,82588' }, { '135': '82552,82545,82553' }, { '136': '82553,82538,82672' }, { '137': '82588,82549,82672' }, { '138': '82552,82553,82588' }, { '139': '82552,82545,82553' }, { '140': '82552,82545,82553' }, { '141': '82552,82545,82553' }, { '142': '82552,82545,82588' }, { '143': '82552,82553,82588' }, { '144': '82552,82545,82553' }, { '145': '82552,82545,82553' },
        { '146': '82553,82588,82549' }, { '147': '82552,82545,82553' }, { '148': '82552,82545,82553' }, { '149': '82552,82545,82553' }, { '150': '82545,82553,82588' }, { '151': '82552,82545,82553' }, { '152': '82552,82545,82553' }, { '153': '82552,82553,82588' }, { '154': '82552,82545,82553' }, { '155': '82552,82545,82553' }, { '156': '82552,82545,82553' }, { '157': '82552,82545,82553' }, { '158': '82552,82553,82588' }, { '159': '82552,82545,82553' }, { '160': '82545,82553,82588' }, { '161': '82552,82545,82553' }, { '162': '82588,82549,82538' }, { '163': '82552,82545,82553' }, { '164': '82552,82545,82553' }, { '165': '82545,82553,82588' }, { '166': '82552,82588,82549' }, { '167': '82545,82553,82588' }, { '168': '82552,82545,82553' }, { '169': '82553,82588,82549' }, { '170': '82552,82545,82553' }, { '171': '82552,82545,82553' }, { '172': '82552,82553,82588' }, { '173': '82552,82545,82553' }, { '174': '82552,82553,82588' }, { '175': '82552,82545,82553' }, { '176': '82545,82553,82588' }, { '177': '82552,82553,82588' }, { '178': '82552,82545,82553' }, { '179': '82552,82553,82588' }, { '180': '82545,82553,82588' }, { '181': '82552,82545,82553' }, { '182': '82552,82545,82553' }, { '183': '82552,82545,82553' }, { '184': '82545,82553,82588' }, { '185': '82552,82545,82553' }, { '186': '82552,82553,82588' }, { '187': '82552,82545,82588' }, { '188': '82552,82545,82588' }, { '189': '82552,82545,82553' }, { '190': '82552,82545,82553' }, { '191': '82552,82545,82553' }, { '192': '82553,82588,82549' }, { '193': '82552,82545,82553' }, { '194': '82545,82553,82549' }, { '195': '82552,82545,82553' }, { '196': '82588,82549,82538' }, { '197': '82552,82545,82553' }, { '198': '82552,82545,82553' }, { '199': '82552,82553,82549' }, { '200': '82552,82545,82553' }, { '201': '82552,82553,82588' }, { '202': '82552,82545,82553' }, { '203': '82552,82545,82553' }, { '204': '82552,82545,82588' }, { '205': '82552,82545,82549' }, { '206': '82552,82545,82553' }, { '207': '82552,82545,82553' }, { '208': '82552,82545,82553' }, { '209': '82552,82545,82553' }, { '210': '82552,82545,82553' }, { '211': '82545,82553,82588' }, { '212': '82552,82545,82553' }, { '213': '82552,82553,82588' }, { '214': '82552,82553,82588' }, { '215': '82552,82545,82553' }, { '216': '82545,82553,82588' },
        { '217': '82552,82545,82553' }, { '218': '82552,82545,82553' }, { '219': '82552,82545,82553' }, { '220': '82552,82545,82553' }, { '221': '82552,82553,82588' }, { '222': '82552,82553,82588' }, { '223': '82552,82545,82553' }, { '224': '82552,82545,82553' }, { '225': '82552,82553,82588' }, { '226': '82552,82545,82553' }, { '227': '82552,82545,82553' }, { '228': '82552,82588,82549' }, { '229': '82545,82588,82672' }, { '230': '82545,82588,82549' }, { '231': '82552,82545,82553' }, { '232': '82552,82545,82553' }, { '233': '82552,82545,82553' }, { '234': '82552,82545,82553' }, { '235': '82552,82553,82588' }, { '236': '82552,82545,82553' }, { '237': '82552,82545,82553' }, { '238': '82545,82553,82588' }, { '239': '82545,82588,82549' }, { '240': '82545,82553,82588' }, { '241': '82552,82545,82553' }, { '242': '82545,82553,82588' }, { '243': '82552,82545,82553' }, { '244': '82552,82553,82549' }, { '245': '82552,82545,82553' }, { '246': '82552,82545,82553' }, { '247': '82552,82545,82553' }, { '248': '82545,82553,82588' }, { '249': '82545,82553,82588' }, { '250': '82545,82553,82549' }, { '251': '82552,82545,82553' }, { '252': '82552,82545,82553' }, { '253': '82552,82545,82553' }, { '254': '82552,82545,82553' }, { '255': '82552,82545,82553' }, { '256': '82552,82545,82553' }, { '257': '82545,82553,82588' }, { '258': '82552,82545,82553' }, { '259': '82552,82545,82553' }, { '260': '82552,82545,82588' }, { '261': '82552,82545,82553' }, { '262': '82552,82545,82553' }, { '263': '82552,82545,82553' }, { '264': '82552,82553,82549' }, { '265': '82552,82553,82588' }, { '266': '82552,82553,82588' }, { '267': '82545,82553,82588' }, { '268': '82545,82588,82549' }, { '269': '82552,82545,82553' }, { '270': '82552,82545,82553' }, { '271': '82552,82545,82553' }, { '272': '82545,82538,82584' }, { '273': '82552,82545,82553' }, { '274': '82552,82545,82553' }, { '275': '82588,82549,82538' }, { '276': '82552,82553,82588' }, { '277': '82552,82545,82553' }, { '278': '82553,82588,82549' }, { '279': '82552,82545,82553' }, { '280': '82552,82545,82553' }, { '281': '82538,82672,82584' }, { '282': '82552,82545,82553' }, { '283': '82552,82545,82588' }, { '284': '82552,82545,82553' }, { '285': '82552,82553,82588' }, { '286': '82545,82549,82538' }, { '287': '82552,82545,82553' },
        { '288': '82552,82545,82553' }, { '289': '82545,82553,82588' }, { '290': '82552,82553,82549' }, { '291': '82552,82545,82553' }, { '292': '82552,82545,82553' }, { '293': '82552,82545,82553' }, { '294': '82545,82553,82588' }, { '295': '82552,82545,82553' }, { '296': '82552,82545,82553' }, { '297': '82552,82545,82553' }, { '298': '82552,82545,82588' }, { '299': '82552,82545,82553' }, { '300': '82552,82545,82553' }, { '301': '82552,82545,82553' }, { '302': '82552,82545,82553' }, { '303': '82552,82545,82553' }, { '304': '82545,82553,82588' }, { '305': '82552,82545,82553' }, { '306': '82552,82545,82553' }, { '307': '82552,82545,82553' }, { '308': '82552,82545,82553' }, { '309': '82552,82545,82553' }, { '310': '82552,82545,82553' }, { '311': '82552,82588,82549' }, { '312': '82545,82553,82588' }, { '313': '82588,82549,82538' }, { '314': '82552,82553,82561' }, { '315': '82552,82588,82549' }, { '316': '82552,82553,82588' }, { '317': '82552,82545,82553' }, { '318': '82552,82545,82553' }, { '319': '82552,82545,82553' }, { '320': '82552,82545,82553' }, { '321': '82552,82545,82553' }, { '322': '82552,82545,82553' }, { '323': '82552,82545,82588' }, { '324': '82552,82545,82553' }, { '325': '82552,82545,82553' }, { '326': '82552,82545,82553' }, { '327': '82552,82545,82553' }, { '328': '82545,82553,82588' }, { '329': '82552,82545,82553' }, { '330': '82552,82553,82588' }, { '331': '82553,82588,82549' }, { '332': '82552,82545,82553' }, { '333': '82552,82545,82553' }, { '334': '82545,82553,82588' }, { '335': '82552,82545,82553' }, { '336': '82552,82545,82588' }, { '337': '82552,82545,82553' }, { '338': '82552,82545,82553' }, { '339': '82552,82588,82549' }, { '340': '82552,82545,82553' }, { '341': '82552,82588,82549' }, { '342': '82552,82545,82553' }, { '343': '82545,82553,82588' }, { '344': '82552,82545,82553' }, { '345': '82552,82545,82553' }, { '346': '82552,82545,82553' }, { '347': '82552,82545,82549' }, { '348': '82552,82545,82553' }, { '349': '82552,82545,82553' }, { '350': '82552,82545,82553' }, { '351': '82552,82545,82553' }, { '352': '82552,82553,82588' }, { '353': '82552,82545,82553' }, { '354': '82552,82545,82553' }, { '355': '82552,82545,82553' }, { '356': '82552,82545,82553' }, { '357': '82552,82545,82553' }, { '358': '82552,82545,82553' },
        { '359': '82552,82545,82553' }, { '360': '82545,82553,82549' }, { '361': '82545,82549,82538' }, { '362': '82552,82545,82553' }, { '363': '82552,82553,82588' }, { '364': '82552,82545,82553' }, { '365': '82549,82538,82672' }, { '366': '82552,82545,82553' }, { '367': '82552,82545,82553' }, { '368': '82552,82545,82553' }, { '369': '82552,82545,82553' }, { '370': '82552,82545,82553' }, { '371': '82552,82545,82553' }, { '372': '82552,82545,82553' }, { '373': '82552,82545,82553' }, { '374': '82552,82545,82553' }, { '375': '82552,82545,82553' }, { '376': '82552,82545,82553' }, { '377': '82552,82545,82553' }, { '378': '82552,82545,82553' }, { '379': '82552,82553,82588' }, { '380': '82552,82545,82553' }, { '381': '82552,82553,82588' }, { '382': '82552,82545,82553' }, { '383': '82552,82545,82549' }, { '384': '82552,82545,82553' }, { '385': '82552,82545,82553' }, { '386': '82545,82553,82549' }, { '387': '82552,82545,82553' }, { '388': '82552,82545,82553' }, { '389': '82552,82545,82553' }, { '390': '82552,82545,82553' }, { '391': '82552,82553,82588' }, { '392': '82545,82553,82588' }, { '393': '82552,82553,82588' }, { '394': '82552,82545,82553' }, { '395': '82552,82553,82588' }, { '396': '82552,82545,82553' }, { '397': '82552,82545,82553' }, { '398': '82552,82545,82553' }, { '399': '82545,82553,82588' }, { '400': '82553,82549,82538' }, { '401': '82552,82545,82553' }, { '402': '82552,82545,82553' }, { '403': '82545,82553,82588' }, { '404': '82552,82545,82553' }, { '405': '82552,82545,82553' }, { '406': '82545,82588,82549' }, { '407': '82552,82553,82588' }, { '408': '82552,82545,82553' }, { '409': '82552,82545,82553' }, { '410': '82552,82553,82549' }, { '411': '82545,82553,82588' }, { '412': '82552,82545,82553' }, { '413': '82552,82545,82553' }, { '414': '82552,82545,82553' }, { '415': '82552,82545,82553' }, { '416': '82552,82545,82588' }, { '417': '82552,82553,82588' }, { '418': '82552,82553,82588' }, { '419': '82545,82588,82549' }, { '420': '82552,82545,82553' }, { '421': '82552,82545,82553' }, { '422': '82552,82545,82553' }, { '423': '82552,82553,82588' }, { '424': '82552,82545,82553' }, { '425': '82545,82553,82588' }, { '426': '82552,82545,82553' }, { '427': '82552,82545,82553' }, { '428': '82552,82545,82553' }, { '429': '82552,82545,82553' },
        { '430': '82553,82588,82538' }, { '431': '82588,82549,82538' }, { '432': '82552,82545,82553' }, { '433': '82552,82545,82553' }, { '434': '82553,82588,82549' }, { '435': '82545,82553,82588' }, { '436': '82552,82553,82588' }, { '437': '82552,82545,82553' }, { '438': '82552,82545,82553' }, { '439': '82552,82545,82588' }, { '440': '82552,82545,82553' }, { '441': '82552,82545,82553' }, { '442': '82545,82553,82588' }, { '443': '82552,82545,82588' }, { '444': '82552,82553,82588' }, { '445': '82552,82545,82553' }, { '446': '82545,82553,82588' }, { '447': '82552,82545,82553' }, { '448': '82552,82545,82553' }, { '449': '82552,82545,82553' }, { '450': '82552,82553,82549' }, { '451': '82552,82545,82553' }, { '452': '82552,82545,82553' }, { '453': '82552,82545,82553' }, { '454': '82552,82553,82588' }, { '455': '82552,82545,82588' }, { '456': '82545,82588,82549' }, { '457': '82552,82545,82553' }, { '458': '82552,82545,82553' }, { '459': '82545,82549,82538' }, { '460': '82552,82545,82553' }, { '461': '82552,82545,82553' }, { '462': '82552,82545,82553' }, { '463': '82552,82545,82553' }, { '464': '82552,82545,82588' }, { '465': '82549,82538,82672' }, { '466': '82552,82545,82553' }, { '467': '82545,82553,82588' }, { '468': '82552,82545,82553' }, { '469': '82545,82588,82549' }, { '470': '82552,82545,82553' }, { '471': '82552,82545,82553' }, { '472': '82552,82545,82588' }, { '473': '82552,82545,82553' }, { '474': '82552,82545,82553' }, { '475': '82552,82553,82549' }, { '476': '82552,82545,82553' }, { '477': '82545,82588,82549' }, { '478': '82552,82545,82553' }, { '479': '82552,82588,82549' }, { '480': '82545,82553,82588' }, { '481': '82552,82545,82553' }, { '482': '82552,82545,82553' }, { '483': '82552,82545,82553' }, { '484': '82552,82545,82553' }, { '485': '82552,82545,82553' }, { '486': '82552,82553,82588' }, { '487': '82552,82553,82588' }, { '488': '82552,82553,82588' }, { '489': '82552,82545,82553' }, { '490': '82552,82545,82553' }, { '491': '82552,82545,82553' }, { '492': '82552,82545,82553' }, { '493': '82552,82545,82553' }, { '494': '82552,82553,82588' }, { '495': '82552,82553,82549' }, { '496': '82552,82545,82553' }, { '497': '82552,82545,82553' }, { '498': '82545,82553,82588' }, { '499': '82552,82553,82549' }, { '500': '82552,82545,82553' },
        { '501': '82552,82545,82588' }, { '502': '82552,82545,82553' }, { '503': '82552,82545,82553' }, { '504': '82552,82545,82553' }, { '505': '82552,82545,82553' }, { '506': '82545,82553,82588' }, { '507': '82552,82545,82588' }, { '508': '82552,82545,82553' }, { '509': '82552,82545,82553' }, { '510': '82552,82545,82553' }, { '511': '82552,82588,82549' }, { '512': '82552,82545,82553' }, { '513': '82552,82545,82553' }, { '514': '82552,82545,82588' }, { '515': '82552,82545,82553' }, { '516': '82552,82545,82553' }, { '517': '82552,82545,82588' }, { '518': '82545,82588,82549' }, { '519': '82552,82545,82588' }, { '520': '82552,82545,82553' }, { '521': '82552,82553,82588' }, { '522': '82552,82545,82553' }, { '523': '82552,82545,82553' }, { '524': '82545,82553,82549' }, { '525': '82552,82553,82588' }, { '526': '82552,82545,82553' }, { '527': '82552,82545,82553' }, { '528': '82552,82545,82553' }, { '529': '82552,82553,82588' }, { '530': '82552,82545,82553' }, { '531': '82552,82588,82538' }, { '532': '82552,82545,82553' }, { '533': '82552,82545,82553' }, { '534': '82552,82553,82588' }, { '535': '82552,82545,82553' }, { '536': '82552,82545,82553' }, { '537': '82552,82553,82588' }, { '538': '82552,82545,82553' }, { '539': '82552,82545,82553' }, { '540': '82552,82545,82553' }, { '541': '82552,82545,82553' }, { '542': '82552,82545,82553' }, { '543': '82552,82545,82553' }, { '544': '82552,82545,82553' }, { '545': '82552,82545,82553' }, { '546': '82552,82545,82588' }, { '547': '82552,82545,82553' }, { '548': '82545,82553,82588' }, { '549': '82552,82545,82553' }, { '550': '82552,82545,82553' }, { '551': '82552,82553,82588' }, { '552': '82552,82545,82553' }, { '553': '82545,82553,82588' }, { '554': '82552,82545,82588' }, { '555': '82545,82553,82588' }, { '556': '82552,82545,82553' }, { '557': '82552,82545,82553' }, { '558': '82552,82588,82549' }, { '559': '82552,82553,82588' }, { '560': '82552,82545,82553' }, { '561': '82552,82545,82553' }, { '562': '82552,82545,82553' }, { '563': '82552,82545,82553' }, { '564': '82552,82545,82553' }, { '565': '82552,82545,82553' }, { '566': '82552,82545,82553' }, { '567': '82552,82545,82553' }, { '568': '82552,82545,82553' }, { '569': '82552,82545,82553' }, { '570': '82552,82545,82553' }, { '571': '82552,82545,82553' },
        { '572': '82552,82545,82553' }, { '573': '82552,82545,82553' }, { '574': '82552,82545,82553' }, { '575': '82545,82553,82588' }, { '576': '82552,82545,82553' }, { '577': '82552,82553,82588' }, { '578': '82552,82553,82588' }, { '579': '82561,82584,82550' }, { '580': '82552,82545,82553' }, { '581': '82552,82545,82553' }, { '582': '82588,82549,82538' }, { '583': '82545,82588,82549' }, { '584': '82552,82545,82553' }, { '585': '82552,82545,82553' }, { '586': '82552,82545,82553' }, { '587': '82552,82545,82553' }, { '588': '82552,82545,82588' }, { '589': '82552,82545,82553' }, { '590': '82552,82545,82553' }, { '591': '82552,82553,82588' }, { '592': '82552,82545,82553' }, { '593': '82553,82588,82549' }, { '594': '82552,82545,82553' }, { '595': '82552,82545,82553' }, { '596': '82545,82588,82549' }, { '597': '82552,82545,82553' }, { '598': '82545,82553,82538' }, { '599': '82552,82553,82549' }, { '600': '82552,82545,82553' }, { '601': '82553,82549,82538' }, { '602': '82552,82545,82553' }, { '603': '82552,82545,82553' }, { '604': '82552,82545,82553' }, { '605': '82552,82545,82553' }, { '606': '82552,82545,82588' }, { '607': '82552,82545,82553' }, { '608': '82552,82545,82553' }, { '609': '82552,82545,82553' }, { '610': '82545,82588,82549' }, { '611': '82545,82553,82588' }, { '612': '82552,82545,82553' }, { '613': '82552,82545,82553' }, { '614': '82552,82545,82553' }, { '615': '82552,82545,82553' }, { '616': '82552,82545,82553' }, { '617': '82545,82549,82538' }, { '618': '82552,82545,82553' }, { '619': '82552,82545,82553' }, { '620': '82552,82545,82553' }, { '621': '82545,82553,82549' }, { '622': '82552,82545,82553' }, { '623': '82552,82553,82588' }, { '624': '82552,82545,82553' }, { '625': '82552,82588,82549' }, { '626': '82552,82545,82553' }, { '627': '82552,82545,82553' }, { '628': '82552,82545,82553' }, { '629': '82552,82545,82553' }, { '630': '82552,82545,82553' }, { '631': '82552,82545,82553' }, { '632': '82552,82545,82553' }, { '633': '82552,82545,82553' }, { '634': '82552,82545,82553' }, { '635': '82552,82545,82553' }, { '636': '82552,82545,82588' }, { '637': '82552,82545,82553' }, { '638': '82552,82545,82588' }, { '639': '82545,82588,82549' }, { '640': '82552,82545,82553' }, { '641': '82552,82545,82553' }, { '642': '82552,82545,82553' },
        { '643': '82552,82545,82553' }, { '644': '82552,82588,82549' }, { '645': '82552,82545,82553' }, { '646': '82545,82588,82549' }, { '647': '82552,82545,82553' }, { '648': '82552,82545,82553' }, { '649': '82545,82588,82538' }, { '650': '82588,82549,82538' }, { '651': '82552,82545,82553' }, { '652': '82552,82545,82553' }, { '653': '82552,82545,82553' }, { '654': '82552,82545,82553' }, { '655': '82552,82545,82553' }, { '656': '82552,82545,82553' }, { '657': '82552,82545,82553' }, { '658': '82552,82545,82553' }, { '659': '82552,82545,82553' }, { '660': '82552,82545,82553' }, { '661': '82552,82553,82588' }, { '662': '82552,82545,82553' }, { '663': '82552,82545,82553' }, { '664': '82552,82545,82553' }, { '665': '82552,82545,82553' }, { '666': '82552,82545,82553' }, { '667': '82552,82545,82553' }, { '668': '82552,82545,82553' }, { '669': '82552,82545,82553' }, { '670': '82545,82553,82588' }, { '671': '82553,82588,82549' }, { '672': '82552,82545,82553' }, { '673': '82552,82545,82553' }, { '674': '82552,82545,82553' }, { '675': '82552,82545,82553' }, { '676': '82552,82545,82553' }, { '677': '82545,82553,82588' }, { '678': '82552,82545,82553' }, { '679': '82552,82545,82553' }, { '680': '82552,82545,82553' }, { '681': '82552,82545,82553' }, { '682': '82552,82545,82553' }, { '683': '82552,82545,82553' }, { '684': '82552,82545,82553' }, { '685': '82552,82545,82553' }, { '686': '82552,82545,82553' }, { '687': '82552,82553,82588' }, { '688': '82552,82545,82553' }, { '689': '82552,82545,82553' }, { '690': '82552,82545,82553' }, { '691': '82545,82553,82588' }, { '692': '82552,82545,82553' }, { '693': '82552,82545,82553' }, { '694': '82552,82545,82553' }, { '695': '82552,82553,82549' }, { '696': '82552,82545,82553' }, { '697': '82552,82545,82553' }, { '698': '82552,82545,82553' }, { '699': '82545,82553,82588' }, { '700': '82552,82545,82553' }, { '701': '82553,82588,82549' }, { '702': '82552,82553,82588' }, { '703': '82552,82545,82553' }, { '704': '82552,82545,82553' }, { '705': '82552,82545,82553' }, { '706': '82552,82545,82553' }, { '707': '82552,82545,82553' }, { '708': '82552,82553,82588' }, { '709': '82552,82545,82553' }, { '710': '82552,82545,82588' }, { '711': '82552,82545,82553' }, { '712': '82552,82545,82553' }, { '713': '82552,82545,82553' },
        { '714': '82552,82545,82553' }, { '715': '82552,82545,82553' }, { '716': '82552,82545,82553' }, { '717': '82552,82545,82553' }, { '718': '82552,82545,82553' }, { '719': '82552,82553,82588' }, { '720': '82552,82545,82553' }, { '721': '82552,82545,82553' }, { '722': '82552,82545,82553' }, { '723': '82552,82545,82553' }, { '724': '82552,82545,82553' }, { '725': '82552,82545,82553' }, { '726': '82552,82545,82553' }, { '727': '82552,82545,82588' }, { '728': '82552,82545,82553' }, { '729': '82552,82553,82588' }, { '730': '82588,82549,82538' }, { '731': '82545,82553,82538' }, { '732': '82552,82545,82553' }, { '733': '82552,82545,82553' }, { '734': '82552,82545,82553' }, { '735': '82552,82545,82553' }, { '736': '82552,82545,82553' }, { '737': '82552,82545,82553' }, { '738': '82545,82553,82588' }, { '739': '82552,82545,82553' }, { '740': '82552,82545,82553' }, { '741': '82552,82545,82553' }, { '742': '82552,82545,82553' }, { '743': '82552,82553,82588' }, { '744': '82552,82553,82588' }, { '745': '82552,82553,82588' }, { '746': '82552,82553,82588' }, { '747': '82552,82545,82553' }, { '748': '82552,82545,82553' }, { '749': '82552,82545,82553' }, { '750': '82552,82545,82553' }, { '751': '82545,82553,82588' }, { '752': '82588,82549,82538' }, { '753': '82552,82545,82553' }, { '754': '82588,82549,82538' }, { '755': '82545,82553,82588' }, { '756': '82552,82545,82553' }, { '757': '82553,82588,82538' }, { '758': '82552,82545,82553' }, { '759': '82552,82545,82553' }, { '760': '82552,82545,82553' }, { '761': '82552,82545,82553' }, { '762': '82552,82545,82553' }, { '763': '82552,82553,82549' }, { '764': '82552,82545,82553' }, { '765': '82552,82545,82553' }, { '766': '82545,82553,82588' }, { '767': '82552,82545,82553' }, { '768': '82552,82545,82553' }, { '769': '82588,82549,82538' }, { '770': '82552,82553,82588' }, { '771': '82545,82553,82588' }, { '772': '82545,82553,82588' }, { '773': '82552,82545,82553' }, { '774': '82552,82545,82553' }, { '775': '82552,82545,82553' }, { '776': '82552,82545,82553' }, { '777': '82545,82553,82588' }, { '778': '82552,82545,82553' }, { '779': '82545,82553,82588' }, { '780': '82552,82545,82553' }, { '781': '82552,82545,82553' }, { '782': '82552,82545,82553' }, { '783': '82552,82545,82553' }, { '784': '82545,82553,82588' },
        { '785': '82552,82545,82553' }, { '786': '82552,82545,82553' }, { '787': '82552,82545,82553' }, { '788': '82552,82553,82588' }, { '789': '82545,82553,82588' }, { '790': '82552,82545,82553' }, { '791': '82552,82545,82553' }, { '792': '82545,82553,82588' }, { '793': '82552,82545,82553' }, { '794': '82552,82545,82553' }, { '795': '82553,82549,82538' }, { '796': '82552,82545,82553' }, { '797': '82552,82553,82588' }, { '798': '82552,82553,82549' }, { '799': '82552,82545,82553' }, { '800': '82545,82553,82588' }, { '801': '82552,82545,82588' }, { '802': '82552,82545,82553' }, { '803': '82552,82545,82553' }, { '804': '82552,82545,82549' }, { '805': '82552,82553,82588' }, { '806': '82545,82553,82588' }, { '807': '82552,82545,82553' }, { '808': '82552,82553,82549' }, { '809': '82552,82545,82553' }, { '810': '82552,82545,82553' }, { '811': '82552,82545,82553' }, { '812': '82552,82545,82588' }, { '813': '82552,82545,82553' }, { '814': '82545,82553,82588' }, { '815': '82552,82545,82588' }, { '816': '82552,82545,82553' }, { '817': '82552,82545,82553' }, { '818': '82552,82545,82553' }, { '819': '82545,82588,82538' },
        { '820': '82552,82545,82553' }, { '821': '82552,82545,82553' }, { '822': '82545,82588,82538' }, { '823': '82553,82588,82538' }, { '824': '82552,82545,82553' }, { '825': '82552,82545,82553' }, { '826': '82552,82545,82588' }, { '827': '82552,82553,82549' }, { '828': '82552,82545,82553' }, { '829': '82552,82545,82553' }, { '830': '82545,82588,82549' }, { '831': '82552,82553,82588' }, { '832': '82552,82545,82553' }, { '833': '82552,82545,82553' }, { '834': '82552,82545,82553' }, { '835': '82552,82545,82553' }, { '836': '82552,82545,82553' }, { '837': '82552,82545,82553' }, { '838': '82552,82545,82553' }, { '839': '82552,82545,82553' }, { '840': '82552,82545,82553' }, { '841': '82552,82553,82588' }, { '842': '82552,82545,82553' }, { '843': '82552,82545,82588' }, { '844': '82552,82545,82553' }, { '845': '82552,82545,82588' }, { '846': '82552,82545,82553' }, { '847': '82552,82545,82588' }, { '848': '82552,82545,82553' }, { '849': '82553,82588,82549' }, { '850': '82552,82545,82553' }, { '851': '82552,82545,82553' }, { '852': '82552,82545,82553' }, { '853': '82545,82588,82538' }, { '854': '82552,82545,82553' }, { '855': '82552,82545,82553' }, { '856': '82552,82545,82553' }, { '857': '82552,82545,82553' }, { '858': '82552,82545,82553' }, { '859': '82552,82545,82588' }, { '860': '82552,82545,82553' }, { '861': '82552,82553,82588' }, { '862': '82552,82545,82553' }, { '863': '82552,82545,82553' }, { '864': '82552,82545,82553' }, { '865': '82552,82545,82553' }, { '866': '82552,82545,82553' }, { '867': '82552,82545,82553' }, { '868': '82552,82545,82588' }, { '869': '82552,82545,82553' }, { '870': '82545,82553,82588' }, { '871': '82552,82545,82553' }, { '872': '82552,82545,82553' }, { '873': '82552,82553,82588' }, { '874': '82552,82545,82553' }, { '875': '82552,82545,82553' }, { '876': '82553,82588,82549' }, { '877': '82552,82553,82588' }, { '878': '82552,82545,82553' }, { '879': '82552,82545,82553' }, { '880': '82552,82545,82553' }, { '881': '82552,82545,82553' }, { '882': '82552,82553,82549' }, { '883': '82552,82553,82588' }, { '884': '82552,82545,82553' }, { '885': '82552,82545,82553' }, { '886': '82552,82553,82588' }, { '887': '82552,82545,82553' }, { '888': '82552,82545,82553' }, { '889': '82545,82553,82588' }, { '890': '82553,82549,82538' }, { '891': '82552,82545,82588' }, { '892': '82552,82545,82553' }, { '893': '82552,82545,82553' }, { '894': '82552,82545,82553' }, { '895': '82552,82545,82553' }, { '896': '82552,82545,82588' }, { '897': '82545,82553,82588' }, { '898': '82552,82545,82553' }, { '899': '82545,82553,82588' }, { '900': '82545,82553,82588' }, { '901': '82552,82553,82549' }, { '902': '82552,82553,82588' }, { '903': '82552,82545,82553' }, { '904': '82552,82545,82553' }, { '905': '82552,82545,82553' }, { '906': '82552,82545,82588' }, { '907': '82552,82545,82553' }, { '908': '82545,82553,82588' }, { '909': '82545,82553,82588' }, { '910': '82552,82553,82588' }, { '911': '82552,82545,82553' }, { '912': '82552,82545,82553' }, { '913': '82553,82588,82549' }, { '914': '82552,82545,82553' }, { '915': '82552,82545,82553' }, { '916': '82552,82545,82553' }, { '917': '82552,82545,82553' }, { '918': '82552,82545,82588' }, { '919': '82552,82545,82553' }, { '920': '82552,82545,82553' }, { '921': '82552,82545,82553' }, { '922': '82545,82553,82588' }, { '923': '82552,82545,82553' }, { '924': '82552,82545,82588' }, { '925': '82545,82553,82588' }, { '926': '82545,82553,82588' }, { '927': '82552,82545,82553' }, { '928': '82545,82588,82549' }, { '929': '82553,82588,82549' }, { '930': '82552,82545,82553' }, { '931': '82545,82553,82588' }, { '932': '82552,82545,82553' }, { '933': '82552,82545,82553' }, { '934': '82552,82545,82553' }, { '935': '82552,82545,82553' }, { '936': '82552,82545,82553' }, { '937': '82552,82545,82553' }, { '938': '82552,82545,82553' }, { '939': '82552,82545,82553' }, { '940': '82552,82545,82553' }, { '941': '82552,82545,82553' }, { '942': '82552,82545,82553' }, { '943': '82552,82545,82553' }, { '944': '82552,82545,82553' }, { '945': '82552,82545,82588' }, { '946': '82552,82545,82553' }, { '947': '82545,82553,82588' }, { '948': '82552,82553,82588' }, { '949': '82552,82588,82549' }, { '950': '82552,82545,82553' }, { '951': '82552,82545,82553' }, { '952': '82538,82672,82561' }, { '953': '82552,82588,82549' }, { '954': '82545,82553,82588' }, { '955': '82552,82545,82588' }, { '956': '82545,82553,82588' }, { '957': '82552,82545,82553' }, { '958': '82545,82553,82588' }, { '959': '82552,82545,82553' }, { '960': '82552,82545,82553' }, { '961': '82552,82553,82588' }, { '962': '82552,82545,82553' }, { '963': '82552,82545,82553' }, { '964': '82545,82553,82588' }, { '965': '82552,82545,82549' }, { '966': '82552,82545,82553' }, { '967': '82552,82545,82553' }, { '968': '82552,82545,82553' }, { '969': '82552,82545,82553' }, { '970': '82545,82553,82588' }, { '971': '82552,82545,82553' }, { '972': '82552,82545,82553' }, { '973': '82552,82545,82553' }, { '974': '82552,82545,82553' }, { '975': '82553,82588,82549' }, { '976': '82552,82553,82588' }, { '977': '82552,82545,82588' }, { '978': '82552,82545,82588' }, { '979': '82552,82553,82588' }, { '980': '82552,82545,82553' }, { '981': '82552,82545,82588' }, { '982': '82552,82545,82553' }, { '983': '82552,82545,82553' }, { '984': '82552,82545,82553' }, { '985': '82552,82545,82553' }, { '986': '82552,82545,82553' }, { '987': '82552,82545,82553' }, { '988': '82552,82545,82553' }, { '989': '82545,82672,82577' }, { '990': '82552,82545,82553' }, { '991': '82552,82553,82588' }, { '992': '82552,82545,82553' }, { '993': '82552,82545,82553' }, { '994': '82545,82553,82588' }, { '995': '82553,82588,82549' }, { '996': '82552,82545,82553' }, { '997': '82552,82545,82588' }, { '998': '82552,82545,82553' }, { '999': '82545,82553,82588' }, { '1000': '82552,82545,82553' }],

        // course_table: [{ '0': '中国建筑史（上）,外国工艺美术史,心理学概论,公司金融,创业102：你能为客户做什么？,e时代的教与学――MOOC引发的混合式教学，党的十九大精神概论' },
        // { '1': "e时代的大佬师——慕课教师的修炼心法,大学物理近代物理,计算机科学和Python编程导论,自动控制理论,大学国文（下）,计算几何,C++语言程序设计基础,生活英语听说,日语与日本文化," },
        // { '2': '数据结构（上),操作系统,数据结构(下),逻辑学概论,大学物理近代物理,心理学概论,线性代数,程序设计基础,汇编语言程序设计,分布式存储与资源管理,大数据系统基础' },
        // { '3': "数据结构（上）,网络技术与应用,心理学概论" },
        // { '4': "计算机科学和Python编程导论,计算机科学101,数字电子技术基础" },
        // { '5': "C++语言程序设计进阶,C++语言程序设计基础,葡萄酒的世界：从葡萄到美酒" },
        // { '6': "计算机科学和Python编程导论,汇编语言程序设计,数据结构(下),数据结构（上）" },
        // { '7': "量子力学（上）,C++语言程序设计基础,金融体系概览（微慕课）" },
        // { '8': '线性系统理论' }, { '9': 'MEMS与微系统,创新材料学' }, { '10': '数据结构（上）,数据结构-算法基础（微慕课,计算思维和数据科学导论' }, { '11': '线性系统理论,理论力学,经济学' },
        // { '12': "C++语言程序设计基础,C++语言程序设计进阶" }, { '13': '软件工程,理论力学' }],

        isshowA: 0,//1是老用户，2是新用户
        total_course: [],
        queryInfo: {
          //查id
          query: "",
          //查姓名
          query2: "",
        },
        course_message: [],
        introduction: '',
        course_herf: '#',
      }
    },

    created() {
      this.getdataobj();
    },


    methods: {

      async getdataobj() {
        const { data: res } = await this.$http({
          methods: "get",
          url: "/dbapi/init",
          params: {
            coures_id: this.queryInfo.query,
          },
        });
        this.total_course = res;//获取所有课程信息
      },

      //新用户按钮
      async callPython() {
        this.searchdialogVisible = true;
        this.deleteVisible = false;
        this.addVisible = true;
        this.course_message = [];
        this.loading = true;
        let res2 = await pythonApi.getPythonData2({
          value2: this.input2,
          value3: this.input3
        });
        res2 = res2.split(',')
        console.log("res===", res2);

        this.course_message = this.total_course.filter(x => res2.indexOf(x.coures_id) !== -1);
        this.loading = false;
      },

      //推荐课程按钮(老用户)
      // async btn() {
      //   this.searchdialogVisible = true;
      //   this.deleteVisible = false;
      //   this.addVisible = true;
      //   this.loading = true;
      //   let res = await pythonApi.getPythonData({
      //     value1: this.input
      //   });
      //   res = res.split(',')
      //   console.log("res===", res);

      //   this.course_message = this.total_course.filter(x => res.indexOf(x.coures_id) !== -1);
      //   this.loading = false
      // },

      //老用户推荐课程按钮(快捷)
      async btn() {
        this.searchdialogVisible = true
        this.deleteVisible = false;
        this.addVisible = true;
        this.loading = true;
        const a = this.data_table[this.input]
        let recommend_data = a[this.input]
        recommend_data = recommend_data.split(',')

        this.course_message = this.total_course.filter(x => recommend_data.indexOf(x.coures_id) !== -1);

        const { data: res } = await this.$http({
          methods: "get",
          url: "/dbapi/init4",
          params: {
            student_id: this.input,
          },
        })
        let watched_course_id = []
        for (const i of res) {
          watched_course_id.push(i.coures_id)
        }
        this.course_message = this.course_message.filter(x => watched_course_id.indexOf(x.coures_id) === -1)
        this.loading = false
      },

      //已选课程按钮
      async btn2() {
        this.searchdialogVisible = true
        this.deleteVisible = true
        this.addVisible = false
        this.loading = true;
        const { data: res } = await this.$http({
          methods: "get",
          url: "/dbapi/init4",
          params: {
            student_id: this.input,
          },
        })
        this.course_message = res
        this.loading = false
        console.log(res)
      },

      introduce(data) {
        this.introduction = data.course_introduction;
        this.course_herf = data.course_herf;
        this.dialogVisible = true;
      },

      handleClose(done) {
        this.$confirm('确认关闭？')
          .then(_ => {
            done();
          })
          .catch(_ => { });
      },

      addCoures(data) {
        this.$http({
          method: "post",
          url: "/dbapi/add",
          data: {
            coures_id: data.coures_id,
            name: data.name,
            course_time: data.course_time,
            course_points: data.course_points,
            course_ability: '',
            teacher_id: data.teacher_id,
            student_id: this.input,
            course_introduction: data.course_introduction,
            course_herf: data.course_herf,
          },
        }).then((res) => {
          console.log(res);
        });
        this.$message({
          message: '选课成功',
          type: 'success'
        })
        this.course_message = this.course_message.filter(x => x.coures_id !== data.coures_id);
      },

      delCourse(data) {
        console.log(data)
        this.$http({
          method: "post",
          url: "/dbapi/del",
          //删除条件
          data: {
            coures_id: data.coures_id,
            student_id: data.student_id,
            name: data.name,
          },
        }).then((res) => {
          console.log(res);
        });
        this.$message({
          message: '删除成功',
          type: 'success'
        })
        this.btn2();
      },
    }
  }
</script>>

<style lang="less" scoped>
  .bb {
    margin-left: 20px;
  }

  .el-button {
    margin: 0 5px;
  }
</style>